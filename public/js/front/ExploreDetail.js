(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{225:function(t,o,a){"use strict";a.r(o);var s=a(36),e=a.n(s),i=a(2),r={name:"Booking",components:{multiselect:e.a,"has-error":i.HasError},props:["list"],data:function(){return{transports:["Bus","Train","Air"],city_list:"",sightseeing_list:"",travel_type_list:["Train","AC Bus","Flight","Train","Flight","Train","AC Bus"],occupancy_list:["Single","Double","Triple","Quad"],form:new i.Form({state_date:"",end_date:"",person:2,room:1,occupancy_type:"",city_id:"",sightseen:"",transport:"",noofday:1,accommodation:3,itinerary_id:""}),customize_btn:!0,back_btn:!1,book_btn:!0,first_form:!0,second_form:!1}},watch:{"form.city_id":function(){this.sightseeingData(this.form.city_id)}},mounted:function(){this.cityData(),this.form.itinerary_id=this.$route.params.id},methods:{cityData:function(){var t=this;this.$axios.get("/api/city-list").then((function(o){t.city_list=o.data}))},sightseeingData:function(t){var o=this;this.$axios.post("/api/city-sightseeing",{list:t}).then((function(t){o.sightseeing_list=t.data}))},secondForm:function(){0==this.back_btn?(this.back_btn=!0,this.customize_btn=!1,this.first_form=!1,this.second_form=!0):(this.customize_btn=!0,this.back_btn=!1,this.first_form=!0,this.second_form=!1)},down:function(){this.form.noofday>1&&(this.form.noofday=this.form.noofday-1)},up:function(){this.form.noofday=this.form.noofday+1},cityList:function(){var t=this;this.$axios.get("/api/city").then((function(o){for(var a=0;a<o.data.data.length;a++)console.log(o),t.options.push({value:o.data.data[a].name})}))},BookingSubmit:function(){var t=this;if(null==localStorage.token)return window.$(".close").click(),this.$swal.fire({icon:"error",title:"Sorry! you are not looged in",footer:'<a href data-toggle="modal" data-target="#LoginForm" class="text-info">Click to Login</a>'}),!1;this.form.post("/api/booking",{headers:{Authorization:"Bearer ".concat(localStorage.token)}}).then((function(o){t.form.reset(),window.$(".close").click(),t.$swal.fire({icon:"success",title:"Booking Successfull!! We will contact you soon !!"})})).catch((function(o){t.$swal.fire({icon:"error",title:"Please provide valide details"}),t.handleError(o)}))}}},n=a(0),l={name:"ExploreDetail",components:{booking:Object(n.a)(r,(function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"booking-form grey-form"},[t.first_form?a("p",[t._v("When would you like to go?")]):t._e(),t._v(" "),t.second_form?a("p",[t._v("Please Specify Your Requirements.")]):t._e(),t._v(" "),a("form",{staticClass:"form"},[t.first_form?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"startdate"}},[t._v("Start Journy Date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.start_date,expression:"form.start_date"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("start_date")},attrs:{type:"date",id:"startdate"},domProps:{value:t.form.start_date},on:{input:function(o){o.target.composing||t.$set(t.form,"start_date",o.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"start_date"}})],1)]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"end_date"}},[t._v("End Journy Date")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.end_date,expression:"form.end_date"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("end_date")},attrs:{type:"date",id:"end_date"},domProps:{value:t.form.end_date},on:{input:function(o){o.target.composing||t.$set(t.form,"end_date",o.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"end_date"}})],1)]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"number_of_person"}},[t._v("Number of Person")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.person,expression:"form.person"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("person")},attrs:{type:"number",id:"number_of_person",min:"2",required:""},domProps:{value:t.form.person},on:{input:function(o){o.target.composing||t.$set(t.form,"person",o.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"start_date"}})],1)]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"number_of_person"}},[t._v("Number of Rooms")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.room,expression:"form.room"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("room")},attrs:{type:"number",id:"number_of_person",min:"1",required:""},domProps:{value:t.form.room},on:{input:function(o){o.target.composing||t.$set(t.form,"room",o.target.value)}}}),t._v(" "),a("has-error",{attrs:{form:t.form,field:"start_date"}})],1)]),t._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"occupancy"}},[t._v("Occupancy Types")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.occupancy_type,expression:"form.occupancy_type"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("occupancy_type")},on:{change:function(o){var a=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"occupancy_type",o.target.multiple?a:a[0])}}},t._l(t.occupancy_list,(function(o,s){return a("option",{key:s,domProps:{value:o}},[t._v(" "+t._s(o))])})),0),t._v(" "),a("has-error",{attrs:{form:t.form,field:"occupancy_type"}})],1)])]):t._e(),t._v(" "),t.second_form?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"cities"}},[t._v("Cities")]),t._v(" "),a("multiselect",{attrs:{options:t.city_list,multiple:!0,"track-by":"name",label:"name","close-on-select":!0,placeholder:"Select City"},model:{value:t.form.city_id,callback:function(o){t.$set(t.form,"city_id",o)},expression:"form.city_id"}})],1)]),t._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"sightseeing"}},[t._v("Places(Sightseeing)")]),t._v(" "),t.sightseeing_list?a("multiselect",{attrs:{options:t.sightseeing_list,multiple:!0,"track-by":"name",label:"name","close-on-select":!0,placeholder:"Select Sightseeing"},model:{value:t.form.sightseen,callback:function(o){t.$set(t.form,"sightseen",o)},expression:"form.sightseen"}}):t._e()],1)]),t._v(" "),a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"transport"}},[t._v("Mode of Transport")]),t._v(" "),a("multiselect",{attrs:{options:t.transports,multiple:!0,"close-on-select":!0,placeholder:"Mode of transport"},model:{value:t.form.transport,callback:function(o){t.$set(t.form,"transport",o)},expression:"form.transport"}})],1)]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"numofday"}},[t._v("Number of Days")]),t._v(" "),a("div",{staticClass:"row align-content-center"},[a("div",{staticClass:"col"},[a("img",{staticClass:"w-40 link",attrs:{src:"/images/icons/minus.png"},on:{click:function(o){return t.down()}}})]),t._v(" "),a("div",{staticClass:"col"},[t._v("\n              "+t._s(t.form.noofday)+"\n            ")]),t._v(" "),a("div",{staticClass:"col"},[a("img",{staticClass:"w-40 link",attrs:{src:"/images/icons/add.png"},on:{click:function(o){return t.up()}}})])])])]),t._v(" "),a("div",{staticClass:"col-sm-6"},[a("label",{attrs:{for:"accommodation"}},[t._v("Accommodation Preference")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.accommodation,expression:"form.accommodation"}],staticClass:"form-control",attrs:{id:"accomodation"},on:{change:function(o){var a=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"accommodation",o.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"2"}},[t._v("2 Star")]),t._v(" "),a("option",{attrs:{value:"3"}},[t._v("3 Star")]),t._v(" "),a("option",{attrs:{value:"4"}},[t._v("4 Star")]),t._v(" "),a("option",{attrs:{value:"5"}},[t._v("5 Star")])])])]):t._e(),t._v(" "),a("div",{staticClass:"text-center"},[t.customize_btn?a("button",{staticClass:"btn profile_button",attrs:{type:"button"},on:{click:function(o){return t.secondForm()}}},[t._v("Customize")]):t._e(),a("span",{staticClass:"mr-10"}),t._v(" "),t.back_btn?a("button",{staticClass:"btn profile_button",attrs:{type:"button"},on:{click:function(o){return t.secondForm()}}},[t._v("Back")]):t._e(),a("span",{staticClass:"mr-10"}),t._v(" "),t.book_btn?a("button",{staticClass:"btn profile_button",attrs:{type:"button"},on:{click:function(o){return t.BookingSubmit()}}},[t._v("Book")]):t._e()])])])}),[],!1,null,null,null).exports},metaInfo:{title:"GBI Explore Destination",meta:[{name:"description",content:"@GoWithGBI a state of art platform which allows user to satiate all its travel needs at one click of a button"},{name:"keywords",content:"@GoWithGBI,explore desired destinations,tailored made itineraries ,custom built itineraries,itineraries of your choice and preferences,explore itineraries,explore educational programs"},{name:"url",content:"https://www.gowithgbi.com/resources/explore-destination"}]},data:function(){return{day:0,description:"",itineraryData:[]}},mounted:function(){this.$store.dispatch("getEditData","/api/itinerary/".concat(this.$route.params.id))},computed:{editData:function(){this.itineraryData=this.$store.getters.getEditData}},methods:{}},c=Object(n.a)(l,(function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{attrs:{id:"explorelist"}},[a("section",{staticClass:"banner-block"},[a("img",{attrs:{src:"/uploadimage/"+t.itineraryData.detail_photo,loading:"lazy",alt:"itinerary"}})]),t._v("\n  "+t._s(t.editData)+"\n  "),a("div",{staticClass:"container"},[t._m(0),t._v(" "),a("div",{staticClass:"w-100 pt-2 text-center"},[a("h1",{staticClass:"font-20 text-uppercase pt-2 pb-2"},[a("u",[t._v(t._s(t.itineraryData.title))])])]),t._v(" "),a("div",{staticClass:"description",domProps:{innerHTML:t._s(t.description)}}),t._v(" "),a("div",{staticClass:"row w-100 pt-3",attrs:{id:"explore_detail_part"}},t._l(t.itineraryData.itinerarydays,(function(o){return a("div",{key:o.id,staticClass:"col-sm-4"},[a("h4",{staticClass:"day_tab"},[t._v("Day "+t._s(o.day))]),t._v(" "),o.day_source!=o.day_destination?a("h1",{staticClass:"explor-head"},[t._v(t._s(o.day_source.toUpperCase())+" - "+t._s(o.day_destination.toUpperCase()))]):a("h1",{staticClass:"explor-head"},[t._v(t._s(o.day_source.toUpperCase()))]),t._v(" "),a("div",{staticClass:"card-text card-text-ul",domProps:{innerHTML:t._s(o.day_description)}})])})),0)]),t._v(" "),a("div",{staticClass:"modal",attrs:{id:"bookModal"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content modal-color"},[a("div",{staticClass:"modal-body"},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[t._v("×")]),t._v(" "),a("booking")],1)])])])])}),[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"w-100 text-right mt-2"},[o("button",{staticClass:"btn profile_button text-white book_btn",attrs:{"data-toggle":"modal","data-target":"#bookModal"}},[this._v("Book Now")])])}],!1,null,null,null);o.default=c.exports}}]);